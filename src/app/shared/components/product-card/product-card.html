<div class="bg-white rounded-xl shadow-md hover:shadow-xl border border-gray-100 p-5 flex flex-col cursor-pointer transition-all duration-300"
    (click)="onCardClick()">
    <!-- Product Image -->
    <div class="aspect-square bg-gray-50 rounded-xl mb-4 flex items-center justify-center overflow-hidden">
        <img [src]="product.imageUrl" [alt]="product.name" class="object-cover w-full h-full hover:scale-105 transition-transform duration-500">
    </div>

    <!-- Product Info -->
    <h3 class="font-semibold text-gray-800 text-base mb-1">{{ product.name }}</h3>
    <p class="text-gray-500 text-sm mb-2 line-clamp-2">{{ product.description }}</p>
    <p class="text-orange-600 font-bold text-lg mb-4">{{ product.price | currency:'Rp':'symbol':'1.0-0' }}</p>

    <!-- Quantity Controls -->
    <div class="flex items-center justify-center mt-auto">
        <ng-container *ngIf="quantity >= 1; else addToCartTemplate">
            <div class="flex items-center bg-gray-50 rounded-xl p-1.5 shadow-sm w-full justify-between">
                <button (click)="decreaseQuantity($event)"
                    class="w-9 h-9 flex items-center justify-center bg-white rounded-lg hover:bg-gray-100 transition-colors border border-gray-100 shadow-sm">
                    <span class="text-orange-600 font-medium">-</span>
                </button>

                <div class="mx-2 w-12 h-9 flex items-center justify-center bg-white border border-gray-200 rounded-lg font-medium text-gray-700">
                    {{ quantity }}
                </div>

                <button (click)="increaseQuantity($event)"
                    class="w-9 h-9 flex items-center justify-center bg-white rounded-lg hover:bg-gray-100 transition-colors border border-gray-100 shadow-sm">
                    <span class="text-orange-600 font-medium">+</span>
                </button>
            </div>
        </ng-container>

        <ng-template #addToCartTemplate>
            <button (click)="increaseQuantity($event)"
                class="w-full px-4 py-3 bg-orange-500 hover:bg-orange-600 text-white rounded-xl transition-all duration-300 text-sm font-medium shadow-md hover:shadow-lg">
                Add to Cart
            </button>
        </ng-template>
    </div>
</div>