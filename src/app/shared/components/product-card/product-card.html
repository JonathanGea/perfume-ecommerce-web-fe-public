<div class="bg-white rounded-lg shadow-sm border border-gray-200 p-4 flex flex-col cursor-pointer"
    (click)="onCardClick()">
    <!-- Product Image -->
    <div class="aspect-square bg-gray-100 rounded-lg mb-3 flex items-center justify-center overflow-hidden">
        <img [src]="product.imageUrl" [alt]="product.name" class="object-cover w-full h-full">
    </div>

    <!-- Product Info -->
    <h3 class="font-semibold text-gray-800 text-sm mb-1">{{ product.name }}</h3>
    <p class="text-gray-500 text-xs mb-2">{{ product.description }}</p>
    <p class="text-purple-600 font-bold text-sm mb-4">{{ product.price | currency:'Rp':'symbol':'1.0-0' }}</p>

    <!-- Quantity Controls -->
    <div class="flex items-center justify-center">
        <ng-container *ngIf="quantity >= 1; else addToCartTemplate">
            <div class="flex items-center bg-gray-100 rounded-lg p-1">
                <button (click)="decreaseQuantity($event)"
                    class="w-8 h-8 flex items-center justify-center bg-gray-200 rounded hover:bg-gray-300 transition-colors">
                    -
                </button>

                <div class="mx-2 w-10 h-8 flex items-center justify-center bg-white border border-gray-300 rounded">
                    {{ quantity }}
                </div>

                <button (click)="increaseQuantity($event)"
                    class="w-8 h-8 flex items-center justify-center bg-gray-200 rounded hover:bg-gray-300 transition-colors">
                    +
                </button>
            </div>
        </ng-container>

        <ng-template #addToCartTemplate>
            <button (click)="increaseQuantity($event)"
                class="px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition-colors text-sm font-medium">
                Add to Cart
            </button>
        </ng-template>
    </div>

</div>